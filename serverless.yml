org: jmeash
app: london-transport
service: london-transport-bot

provider:

  name: aws
  runtime: nodejs12.x
  region: eu-west-2
  stage: dev
  iamRoleStatements:
    - Effect: "Allow"
      Action:
        - dynamodb:Query
        - dynamodb:Scan
        - dynamodb:GetItem
        - dynamodb:PutItem
        - dynamodb:UpdateItem
        - dynamodb:DeleteItem
      Resource: ${env:DYNAMODB_ARN}


plugins:
  - serverless-plugin-typescript
  - serverless-dotenv-plugin
  - serverless-offline
functions:

  ltbot:

    handler: handler.ltbot

    events:

      - http:

          path: ltbot

          method: post

          cors: true
